<app-header></app-header>
<div class="main-container">
    <div class="content">
        <div class="container mt-5">
            <h2>Registro de Usuario</h2>
            <form [formGroup]="registroForm" (ngSubmit)="registrar()">
              <div class="form-group">
                <label for="username">Nombre de Usuario</label>
                <input id="username" type="text" class="form-control" formControlName="username">
                <div *ngIf="registroForm.get('username')?.invalid && registroForm.get('username')?.touched" class="alert alert-danger">
                  <div *ngIf="registroForm.get('username')?.errors?.['required']">El nombre de usuario es requerido.</div>
                  <div *ngIf="registroForm.get('username')?.errors?.['maxlength']">El nombre de usuario no puede tener más de 5 caracteres.</div>
                </div>
              </div>
          
              <div class="form-group position-relative">
                <label for="password">Contraseña</label>
                <input id="password" [type]="showPassword ? 'text' : 'password'" class="form-control" formControlName="password">
                <i class="pi" [ngClass]="showPassword ? 'pi-eye-slash' : 'pi-eye'" (click)="togglePasswordVisibility()" style="cursor: pointer; position: absolute; top: 38px; right: 10px;"></i>
                <div *ngIf="registroForm.get('password')?.invalid && registroForm.get('password')?.touched" class="alert alert-danger">
                  <div *ngIf="registroForm.get('password')?.errors?.['required']">La contraseña es requerida.</div>
                  <div *ngIf="registroForm.get('password')?.errors?.['minlength']">La contraseña debe tener al menos 8 caracteres.</div>
                  <div *ngIf="registroForm.get('password')?.errors?.['pattern']">La contraseña solo puede contener letras y números.</div>
                </div>
              </div>
          
              <div class="form-group">
                <label for="email">Correo Electrónico</label>
                <input id="email" type="email" class="form-control" formControlName="email">
                <div *ngIf="registroForm.get('email')?.invalid && registroForm.get('email')?.touched" class="alert alert-danger">
                  <div *ngIf="registroForm.get('email')?.errors?.['required']">El correo electrónico es requerido.</div>
                  <div *ngIf="registroForm.get('email')?.errors?.['email']">Ingrese un correo electrónico válido.</div>
                  <div *ngIf="registroForm.get('email')?.errors?.['pattern']">El correo electrónico no puede contener números.</div>
                </div>
              </div>
          
              <div class="form-group">
                <label for="nombre">Nombre Completo</label>
                <input id="nombre" type="text" class="form-control" formControlName="nombre">
                <div *ngIf="registroForm.get('nombre')?.invalid && registroForm.get('nombre')?.touched" class="alert alert-danger">
                  <div *ngIf="registroForm.get('nombre')?.errors?.['required']">El nombre completo es requerido.</div>
                  <div *ngIf="registroForm.get('nombre')?.errors?.['maxlength']">El nombre completo no puede tener más de 15 caracteres.</div>
                </div>
              </div>
          
              <div class="form-group">
                <label for="rol">Rol</label>
                <select id="rol" class="form-control" formControlName="rol">
                  <option [value]="1">Administrador</option>
                  <option [value]="2">Profesor</option>
                </select>
              </div>
          
              <button type="submit" class="btn btn-primary" [disabled]="registroForm.invalid">Registrar</button>
          
              <div *ngIf="successMessage" class="alert alert-success mt-3">
                {{ successMessage }}
              </div>
              <div *ngIf="errorMessage" class="alert alert-danger mt-3">
                {{ errorMessage }}
              </div>
            </form>
          </div>
                  
    </div>
</div>